<h1>
  All restaurants
</h1>

<div>
  <form action="/insert_restaurant">
    <button>
      Add a restaurant
    </button>
  </form>
</div>

<p></p>

<div>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<script>
  function initMap() {
    var mapDiv = document.getElementById('map');

    var map = new google.maps.Map(mapDiv);

    var bounds = new google.maps.LatLngBounds();
    
    var infowindow = new google.maps.InfoWindow({
      content: "Click Content" 
    });
    
    var marker = new google.maps.Marker({
      position: {lat: 41.8381065, lng: -87.6512738}, 
      map: map,
      title: 'Hello World!',
      icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png' 
    });
    
    marker.addListener('click', function() {
      infowindow.open(map, marker);
    });

  bounds.extend(new google.maps.LatLng(41.8381065, -87.6512738 ));

  map.fitBounds(bounds);
  };
  
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=[YOUR_API_KEY]&callback=initMap"
async defer></script>

<p></p>

<div>
  <% if @list_of_restaurants.count != 0 %>
    <div class="row row-cols-1 row-cols-md-3 g-4">
      <% @list_of_restaurants.each do |a_restaurant| %>
        <div class="col">
          <div class="card h-100" style="width: 18rem;">
            <div class="card-header">
              <h5 class="card-title"> <%= a_restaurant.name %> </h5>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item"> <%= a_restaurant.address %> </li>
                <li class="list-group-item"> <%= a_restaurant.cuisine.name %> </li>
                <li class="list-group-item"> <%= a_restaurant.rating %> </li>
                <li class="list-group-item"> <%= a_restaurant.restaurant_comments %> </li>
              </ul>
            </div>
            <div class="card-footer">
              <a href="/restaurants/<%= a_restaurant.id %>" class="card-link">Show details</a>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>